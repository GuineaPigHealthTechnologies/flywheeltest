/*! WooCommerce Mix and Match Products 1.3.2 2018-05-03 16:02 */

var wc_mnm_scripts={};jQuery(document).ready(function(g){function f(s){var t=wc_mnm_params.currency_format_decimal_sep,n=wc_mnm_params.currency_position,e=wc_mnm_params.currency_symbol,a=wc_mnm_params.currency_format_trim_zeros,m=wc_mnm_params.currency_format_num_decimals;if("yes"===a&&0<m){for(var i=0;i<m;i++)t+="0";s=s.replace(t,"")}var r="";return"left"===n?r='<span class="amount">'+e+s+"</span>":"right"===n?r='<span class="amount">'+s+e+"</span>":"left_space"===n?r='<span class="amount">'+e+"&nbsp;"+s+"</span>":"right_space"===n&&(r='<span class="amount">'+s+"&nbsp;"+e+"</span>"),r}function $(s){var t=wc_mnm_params.currency_format_num_decimals,n=wc_mnm_params.currency_format_decimal_sep,e=wc_mnm_params.currency_format_thousand_sep,a=s,m=isNaN(t=Math.abs(t))?2:t,i=null==n?",":n,r=null==e?".":e,_=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(m))+"",o=3<(o=c.length)?o%3:0;return _+(o?c.substr(0,o)+r:"")+c.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(m?i+Math.abs(a-c).toFixed(m).slice(2):"")}g.fn.wc_mnm_form=function(){if(!g(this).hasClass("mnm_form"))return!0;var s=g(this),t=s.find(".mnm_cart"),n=t.data("container_id");void 0!==wc_mnm_scripts[n]&&s.find("*").off(),wc_mnm_scripts[n]={$mnm_form:s,$mnm_items:s.find(".mnm_item"),$mnm_cart:s.find(".mnm_cart"),$mnm_price:s.find(".mnm_price"),$mnm_button:t.find(".mnm_add_to_cart_button"),$mnm_message:t.find(".mnm_message"),$mnm_message_content:t.find(".mnm_message ul.mnm_message_content"),$mnm_reset:s.find(".mnm_reset"),min_container_size:t.data("min_container_size"),max_container_size:t.data("max_container_size"),validation_messages:[],status_messages:[],init:function(){this.bind_event_handlers();var s=this.$mnm_cart.find("#product-addons-total");this.$mnm_price.after(s),0===this.$mnm_message_content.length&&(0<this.$mnm_message.length&&this.$mnm_message.remove(),this.$mnm_price.after('<div class="mnm_message"><ul class="mnm_message_content woocommerce-info"></ul></div>'),this.$mnm_message=this.$mnm_cart.find(".mnm_message"),this.$mnm_message_content=this.$mnm_message.find(".mnm_message_content")),this.$mnm_form.trigger("wc-mnm-initialized",[this]),this.update()},bind_event_handlers:function(){var t=this;t.$mnm_items.on("input change",".qty",function(s){t.update(s.type)}),t.$mnm_reset.on("click",function(s){t.reset(s)})},get_min_container_size:function(){return void 0!==this.min_container_size&&""!==this.min_container_size&&parseInt(this.min_container_size)},get_max_container_size:function(){return void 0!==this.max_container_size&&""!==this.max_container_size&&parseInt(this.max_container_size)},selected_quantity_message:function(s){return(1==s?wc_mnm_params.i18n_qty_message_single:wc_mnm_params.i18n_qty_message).replace("%s",s)},add_message:function(s,t){"error"===t?this.validation_messages.push(s.toString()):this.status_messages.push(s.toString())},get_messages:function(s){return"all"===s?g.merge(this.status_messages,this.validation_messages):"error"===s?this.validation_messages:this.status_messages},passes_validation:function(){return!(0<this.validation_messages.length)},has_status_messages:function(){return 0<this.status_messages.length},reset_messages:function(){this.validation_messages=[],this.status_messages=[]},update:function(e){var s=this,t=this.get_min_container_size(),a=this.get_max_container_size(),m=this.$mnm_cart.data("per_product_pricing"),i=0,r=parseFloat(this.$mnm_cart.data("base_price")),_=parseFloat(this.$mnm_cart.data("base_regular_price")),n="",c="";if(this.reset_messages(),this.$mnm_items.each(function(){var s=0;if($input=g(this).find(".qty"),0<$input.length){var t=parseFloat($input.attr("min")),n=parseFloat($input.attr("max"));0<a&&(n=Math.min(n,parseFloat(a))),"change"===e&&0<=t&&(parseFloat($input.val())<t||isNaN(parseFloat($input.val())))&&$input.val(t),"change"===e&&0<n&&parseFloat($input.val())>n&&$input.val(n),s=parseInt($input.val()),i+=s,1==m&&(r+=parseFloat(g(this).data("price"))*s,_+=parseFloat(g(this).data("regular_price"))*s)}}),1==m){var o=this.$mnm_form.find(".mnm_cart #product-addons-total");if(0<o.length&&(o.data("price",r),this.$mnm_cart.trigger("woocommerce-product-addons-update")),0<i)if(0==r)n='<p class="price"><span class="total"></span>'+wc_mnm_params.i18n_free+"</p>";else{var p=f($(r)),l=f($(_));n=r<_?'<p class="price"><del>'+l+"</del> <ins>"+p+"</ins></p>":'<p class="price">'+p+"</p>"}}if(t===a&&i!==t?c=(c=1==i?wc_mnm_params.i18n_qty_error_single:wc_mnm_params.i18n_qty_error).replace("%s",t):0<a&&0<t&&(i<t||a<i)?c=wc_mnm_params.i18n_min_max_qty_error.replace("%max",a).replace("%min",t):0<t&&i<t?c=(c=1<t?wc_mnm_params.i18n_min_qty_error:wc_mnm_params.i18n_min_qty_error_singular).replace("%min",t):0<a&&a<i&&(c=(c=1<a?wc_mnm_params.i18n_max_qty_error:wc_mnm_params.i18n_max_qty_error_singular).replace("%max",a)),""!=c){var d=this.selected_quantity_message(i);this.add_message(c.replace("%v",d),"error")}if(this.$mnm_form.trigger("wc-mnm-validation",[s,i]),this.passes_validation()?(!1===a&&this.add_message(this.selected_quantity_message(i)),this.$mnm_button.removeAttr("disabled").removeClass("disabled"),this.$mnm_form.trigger("wc-mnm-display-add-to-cart-button",[s])):(this.$mnm_button.attr("disabled",!0).addClass("disabled"),this.$mnm_form.trigger("wc-mnm-hide-add-to-cart-button",[s])),this.has_status_messages()||!1===this.passes_validation()){var h=g("<ul/>"),u=this.get_messages("all");0<u.length&&g.each(u,function(s,t){h.append(g("<li/>").html(t))}),this.$mnm_message_content.html(h.html()),this.$mnm_message.slideDown(200)}else this.$mnm_message.slideUp(200);""!==n?(this.$mnm_price.html(n),this.$mnm_price.slideDown(200)):this.$mnm_price.slideUp(200),this.$mnm_form.trigger("wc-mnm-price-updated",[s,i,this.$mnm_price])},reset:function(s){s.preventDefault(),this.$mnm_items.each(function(){$input=g(this).find(".qty"),0<$input.length&&$input.val(parseFloat($input.attr("min")))}),this.update()}},wc_mnm_scripts[n].init()},g("body").on("quick-view-displayed",function(){g(".mnm_form").each(function(){g(this).wc_mnm_form()})}),g(".mnm_form").each(function(){g(this).wc_mnm_form()})});